{% load aptly_extras %}
{% load widget_tweaks %}

{% for hidden_field in form.hidden_fields %}
  {{ hidden_field }}
{% endfor %}

{% if form.non_field_errors %}
<ui class="list border">
  {% for error in form.non_field_errors %}
    <li class="error"><i>error</i>{{ error }}</li>
  {% endfor %}
</ul>
{% endif %}

{% for field in form.visible_fields %}
{% if field|field_type == "booleanfield" %}
<div class="field middle-align">
  <br>
  {% if field.field.disabled and field.initial %}
  {# hack to send true, on disabled checkboxes #}
  <input type="hidden" name="{{ field.name }}" value="true">
  {% endif %}
  <nav>
    <label class="checkbox">
      {% render_field field|append_attr:"value:true"  %}
      <span>{{ field.label }}</span>
    </label>
  </nav>
  {% for error in field.errors %}
  <span class="error">{{ error }} </span>
  {% endfor %}
</div>
{% else %}
{% include 'aptlyweb/material_forms/field.html' with field=field %}
{% endif %}
{% endfor %}
