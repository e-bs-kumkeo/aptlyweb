{% extends 'aptlyweb/template_display.html' %}
{% load static %}

{% block title %}EDIT Â· APTLYWEB{% endblock %}
{% block h1 %} EDIT Repository {% endblock %}
{% block overview-tables %}{% endblock %}
{% block display%}
<div class="login-overview">
  <div class="topic">
    <strong>
        Edit Repository
        <span class="italic">
           {{ repo.name }}
        </span>
    </strong>
    <br>

    <form id="repo_form" action="" method="POST" novalidate>
      {% csrf_token %}
      {% include 'aptlyweb/material_forms/form.html' with form=form %}
      <br>
      <nav class="right-align">
        <a class="button" href="{% url 'repository_detail' repo.name %}">Cancel</a>
        <button type="submit">Submit</button>
      </nav>
    </form>
  </div>

</div>

<script>
document.addEventListener('change', function (e) {
  if (e.target && e.target.matches('input[name="repository_name"]')) {
    const label = document.getElementById('repo-selected-label');
    if (label) label.textContent = ': ' + e.target.value;
  }
});
</script>
{% endblock %}
